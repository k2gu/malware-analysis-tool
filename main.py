from __future__ import print_function
from future import standard_library
standard_library.install_aliases()

from urllib.parse import urlparse, urlencode
from urllib.request import urlopen, Request
from urllib.error import HTTPError

print('Hello', 'World')

# hybridAnalysisApiKey = 'aqnq3ynsohkwg4okkswwkw80k'
# hybridAnalysisApiSecret = '38263c00f7c2cd0d19c56a8872f7b55810fd2273855ca2e4'


def virus_total_api():

    key = 'a20c2d560621eeb0d656d8fa2b2882041ce868db18f4753d3f707ddf82542041'
    url = 'https://www.virustotal.com/vtapi/v2/file/scan'

    file_path = 'C:\\Users\\kirkep\\Documents\\malware-analysis-tool\\myfile.exe'
    file = (file_path, open(file_path, 'rb'))
    params = dict({
        'apikey': key,
        'file': file
    })
    data = urlencode(params)
    data = data.encode('utf-8')
    request = Request(url, data)

    response = urlopen(request)
    print(response.read())


virus_total_api()